---
title: "Series de Timepo"
author: "Diego Vallarino"
date: "14/12/2021"
output: pdf_document
---

In this small example I will use time series analysis, from the perspective of cliometry (history + economy + econometrics) to understand how Uruguay's Exports behaved from 1960 to 2017, and what would be its projection with the information that was had in 2017.

```{r, warning=FALSE, message=FALSE}
library(fpp3)

global_economy %>%
filter(Code == "URY") %>%
autoplot(Exports) +
labs(y = "% of GDP", title = "Uruguayan exports")

uy_exports <- global_economy %>%
  filter(Country == "Uruguay") %>%
  mutate(
    `5-MA` = slider::slide_dbl(Exports, mean,
                .before = 2, .after = 2, .complete = TRUE)
  )

uy_exports %>%
  autoplot(Exports) +
  geom_line(aes(y = `5-MA`), colour = "#D55E00") +
  labs(y = "% of GDP",
       title = "Total Australian exports") +
  guides(colour = guide_legend(title = "series"))


fit <- global_economy %>%
  filter(Code == "URY") %>%
  model(ARIMA(Exports))
report(fit)

fit %>% forecast(h=10) %>%
  autoplot(global_economy) +
  labs(y = "% of GDP", title = "Uruguayan exports")

global_economy %>%
  filter(Code == "URY") %>%
  ACF(Exports) %>%
  autoplot()

fit2 <- global_economy %>%
  filter(Code == "URY") %>%
  model(ARIMA(Exports ~ pdq(4,0,0)))
report(fit2)

fit2 %>% forecast(h=10) %>%
    autoplot(global_economy) +
    labs(y = "% of GDP", title = "Uruguayan exports")
```

